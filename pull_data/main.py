#15 ou are given a task of writing a python script to pull data from several sources, all of which require a different set of credentials to access and all have different URLs. Explain what you would need to think about to keep  and how you would structure your script at a high level. 


import keyring, os
from credentials import main as register_user

start = True


# source_folder = '/Users/l.chagas/git/source_folder'
# txt_folder = '/Users/l.chagas/git/txt_folder'
# log_folder = '/Users/l.chagas/git/log_folder'


# def sort_files():
# # Pull data from different log sources
# # 1 - Pull logs fom different folders
# # 2 - Move the logs based on the type of the file .txt, .log

#     os.chdir(source_folder)
#     #current_folder = os.getcwd()
#     source_files_list = os.listdir() #list files and dirs

#     for filename in source_files_list:
#         if filename.endswith('.txt'):
#             print(filename)

#         elif filename.endswith('.log'):
#             print('It was executed')
#             print(filename)


def login(url, user):
    '''Get password from mac Keychain'''

    password = keyring.get_password(url, user)
    if password == None:
        #print(f'url: {url} doesnt exist!')
        return False

    else:
        print(password)
        return password


def http_request():
    pass


#MAIN CODE
def main():
    while start:

        url = input('Enter the URL you would like to access\n')
        user = input('Enter the user credential\n')

        test_login = login(url, user)

        if test_login == False:
            print('url or username does not exist or its wrong\n')
            user_q = input('Would you like to register the credential? y/n').lower()
            if user_q == 'n':
                break

            else:
                register_user()




main()





        




